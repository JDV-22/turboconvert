<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Merge PDF Files Free Online ‚Äî No Upload | TurboConvert</title>
  <meta name="description" content="Merge multiple PDF files into one for free. Drag to reorder pages. Runs entirely in your browser ‚Äî no upload, no account, no limits." />
  <link rel="canonical" href="https://turboconvert.io/merge-pdf" />
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,600;1,9..144,300&family=Geist:wght@300;400;500&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    :root{--bg:#f9f8f6;--white:#fff;--ink:#111110;--mid:#6a6a65;--soft:#adadaa;--line:#e6e5e1;--line2:#efeeea}
    body{font-family:'Geist',sans-serif;background:var(--bg);color:var(--ink);-webkit-font-smoothing:antialiased}
    nav{position:sticky;top:0;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:0 2.5rem;height:56px;background:rgba(249,248,246,.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--line)}
    .logo{display:inline-flex;align-items:center;gap:.5rem;text-decoration:none}
    .logo-mark svg{width:22px;height:22px}
    .logo-text{font-family:'Fraunces',serif;font-weight:600;font-size:1rem;letter-spacing:-.03em;color:var(--ink);line-height:1}
    .dim{font-weight:400;color:var(--mid)}
    .back{font-size:.8rem;color:var(--mid);text-decoration:none}.back:hover{color:var(--ink)}
    .page{max-width:740px;margin:0 auto;padding:3rem 2rem 6rem}
    .bc{font-size:.72rem;color:var(--soft);margin-bottom:2rem}.bc a{color:var(--soft);text-decoration:none}
    .eyebrow{font-size:.68rem;font-weight:500;letter-spacing:.08em;text-transform:uppercase;color:var(--soft);display:block;margin-bottom:.6rem}
    h1{font-family:'Fraunces',serif;font-size:clamp(1.8rem,4.5vw,2.8rem);font-weight:600;line-height:1.1;letter-spacing:-.03em;margin-bottom:.75rem}
    .desc{font-size:.9rem;color:var(--mid);line-height:1.7;font-weight:300;max-width:520px}
    .ad{height:90px;border-radius:8px;border:1px dashed var(--line);display:flex;align-items:center;justify-content:center;font-size:.7rem;color:var(--soft);margin:2rem 0}
    .zone{border:1.5px dashed var(--line);border-radius:12px;padding:2.75rem 2rem;text-align:center;cursor:pointer;background:var(--white);position:relative;transition:border-color .2s,background .2s}
    .zone:hover,.zone.over{border-color:var(--ink);background:var(--bg)}
    .zone input{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
    .zi{width:42px;height:42px;border-radius:10px;background:var(--line2);border:1px solid var(--line);display:flex;align-items:center;justify-content:center;font-size:1.1rem;margin:0 auto 1rem}
    .zone h2{font-size:.9rem;font-weight:500;margin-bottom:.25rem}
    .zone p{font-size:.75rem;color:var(--mid);font-weight:300}
    .zcta{display:inline-block;margin-top:1.1rem;background:var(--ink);color:#fff;padding:.5rem 1.3rem;border-radius:6px;font-size:.8rem;font-weight:500;pointer-events:none}
    /* File list */
    .file-list{margin-top:1rem;display:none;flex-direction:column;gap:.5rem}
    .file-list.show{display:flex}
    .file-item{background:var(--white);border:1px solid var(--line);border-radius:8px;padding:.75rem 1rem;display:flex;align-items:center;gap:.75rem;cursor:grab}
    .file-item:active{cursor:grabbing}
    .file-item.dragging{opacity:.4;border-style:dashed}
    .file-item.drag-over{border-color:var(--ink);background:var(--bg)}
    .fi-handle{color:var(--soft);font-size:.85rem;user-select:none;flex-shrink:0}
    .fi-icon{font-size:1.1rem;flex-shrink:0}
    .fi-meta{flex:1;min-width:0}
    .fi-name{font-size:.82rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .fi-size{font-size:.7rem;color:var(--soft);margin-top:.1rem}
    .fi-rm{background:none;border:none;cursor:pointer;color:var(--soft);font-size:.85rem;padding:.2rem;flex-shrink:0;transition:color .15s}
    .fi-rm:hover{color:var(--ink)}
    .add-more{background:none;border:1.5px dashed var(--line);border-radius:8px;padding:.65rem 1rem;font-size:.78rem;color:var(--mid);cursor:pointer;text-align:center;transition:border-color .15s,color .15s;width:100%}
    .add-more:hover{border-color:var(--ink);color:var(--ink)}
    .add-more input{display:none}
    /* Actions */
    .actions{display:none;margin-top:1rem;gap:.75rem;flex-wrap:wrap;align-items:center}
    .actions.show{display:flex}
    .cbtn{background:var(--ink);color:#fff;padding:.6rem 1.4rem;border-radius:6px;font-size:.82rem;font-weight:500;border:none;cursor:pointer;transition:opacity .15s}
    .cbtn:hover{opacity:.8}.cbtn:disabled{background:var(--line);color:var(--soft);cursor:not-allowed}
    .file-count{font-size:.75rem;color:var(--soft)}
    /* Progress */
    .prog{display:none;margin-top:1rem;background:var(--white);border:1px solid var(--line);border-radius:10px;padding:1.25rem}
    .prog.show{display:block}
    .prow{display:flex;justify-content:space-between;font-size:.75rem;color:var(--mid);margin-bottom:.5rem}
    .ptrack{height:3px;background:var(--line);border-radius:100px;overflow:hidden}
    .pbar{height:100%;background:var(--ink);border-radius:100px;width:0;transition:width .3s ease}
    /* Error */
    .err{display:none;margin-top:1rem;background:#fff0f0;border:1px solid #fcc;border-radius:10px;padding:1rem 1.25rem;font-size:.8rem;color:#c00}
    .err.show{display:block}
    /* Download */
    .dl{display:none;margin-top:1rem;border:1px solid var(--line);border-radius:10px;padding:2rem;text-align:center;background:var(--white)}
    .dl.show{display:block}
    .dl h3{font-family:'Fraunces',serif;font-size:1.25rem;font-weight:600;letter-spacing:-.02em;margin-bottom:.25rem}
    .dl p{font-size:.76rem;color:var(--mid);font-weight:300;margin-bottom:1.1rem}
    .dlbtn{background:var(--ink);color:#fff;padding:.6rem 1.6rem;border-radius:6px;font-size:.82rem;font-weight:500;border:none;cursor:pointer;transition:opacity .15s}
    .dlbtn:hover{opacity:.8}
    .again{display:block;margin-top:.6rem;font-size:.75rem;color:var(--soft);cursor:pointer;text-decoration:underline}
    .savings{font-size:.78rem;color:#15803d;font-weight:500;margin-bottom:.5rem}
    /* Features */
    
    
    .feat h4{font-size:.8rem;font-weight:500;margin-bottom:.15rem}
    .feat p{font-size:.72rem;color:var(--mid);line-height:1.4;font-weight:300}
    .body{margin-top:3rem}.body h2{font-family:'Fraunces',serif;font-size:1.35rem;font-weight:600;letter-spacing:-.02em;margin-bottom:.75rem}
    .body p{font-size:.85rem;color:var(--mid);line-height:1.75;font-weight:300}
    
    
    
    
    details[open] 
    
    
    
    
    
    
    
    footer{border-top:1px solid var(--line);padding:1.75rem 2.5rem;display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between;align-items:center;margin-top:5rem}
    .fl a{font-size:.73rem;color:var(--mid);text-decoration:none;margin-left:1.25rem}
    footer p{font-size:.7rem;color:var(--soft)}
      
    
    
    .blog-tip-link:hover{opacity:.7}
      
    
    
    
    
      .features{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:var(--line);border:1px solid var(--line);border-radius:10px;overflow:hidden;margin:2.5rem 0}
    @media(max-width:480px){.features{grid-template-columns:1fr 1fr}}
    .feat{background:var(--white);padding:1.1rem}
    .feat-icon{font-size:.95rem;margin-bottom:.4rem}
    .feat h4{font-size:.8rem;font-weight:500;letter-spacing:-.01em;margin-bottom:.15rem}
    .feat p{font-size:.72rem;color:var(--mid);line-height:1.4;font-weight:300}
    .content{margin-top:3rem}
    .content h2{font-family:'Fraunces',serif;font-size:1.35rem;font-weight:600;letter-spacing:-.02em;margin-bottom:.75rem}
    .content p{font-size:.85rem;color:var(--mid);line-height:1.75;font-weight:300;margin-bottom:.6rem}
    .faq{margin-top:3rem}
    .faq h2{font-family:'Fraunces',serif;font-size:1.35rem;font-weight:600;letter-spacing:-.02em;margin-bottom:1.25rem}
    details{border-top:1px solid var(--line);padding:1rem 0}
    details:last-child{border-bottom:1px solid var(--line)}
    summary{cursor:pointer;list-style:none;display:flex;justify-content:space-between;align-items:center;font-size:.84rem;gap:1rem}
    .si{width:17px;height:17px;border-radius:50%;border:1px solid var(--line);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:.62rem;color:var(--soft);transition:all .15s}
    details[open] .si{background:var(--ink);color:#fff;border-color:var(--ink)}
    details[open] .si::after{content:'‚àí'}.si::after{content:'+'}
    details p{margin-top:.55rem;font-size:.8rem;color:var(--mid);line-height:1.7;font-weight:300}
    .related{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--line)}
    .related h3{font-size:.68rem;font-weight:500;letter-spacing:.08em;text-transform:uppercase;color:var(--soft);margin-bottom:.8rem}
    .related-links{display:flex;flex-wrap:wrap;gap:.5rem}
    .rl{background:var(--white);border:1px solid var(--line);padding:.4rem .85rem;border-radius:6px;font-size:.76rem;color:var(--mid);text-decoration:none;transition:border-color .15s,color .15s}
    .rl:hover{border-color:var(--ink);color:var(--ink)}
    .blog-tip{display:flex;align-items:center;gap:.75rem;margin:1.5rem 0 0;padding:.85rem 1.1rem;background:var(--white);border:1px solid var(--line);border-radius:10px;flex-wrap:wrap}
    .blog-tip-label{font-size:.7rem;font-weight:500;letter-spacing:.06em;text-transform:uppercase;color:var(--soft);white-space:nowrap}
    .blog-tip-link{font-size:.82rem;color:var(--ink);text-decoration:none;font-weight:500;letter-spacing:-.01em;transition:opacity .15s}
    .blog-tip-link:hover{opacity:.7}
  </style>

  <style>
    .ad-tool-top, .ad-tool-mid { margin: 1.25rem 0; min-height: 90px; }
    .adsbygoogle { display: block; }
  </style>

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="TurboConvert" />
  <meta property="og:title" content="Merge PDF Files Free ‚Äî No Upload" />
  <meta property="og:description" content="Combine multiple PDFs into one in your browser. Drag to reorder, no upload, no account." />
  <meta property="og:url" content="https://turboconvert.io/merge-pdf" />
  <meta property="og:image" content="https://turboconvert.io/og-image.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Merge PDF Files Free ‚Äî No Upload" />
  <meta name="twitter:description" content="Combine multiple PDFs into one in your browser. Drag to reorder, no upload, no account." />
  <meta name="twitter:image" content="https://turboconvert.io/og-image.png" />
  <!-- Schema.org -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "PDF Merger",
  "description": "Free online PDF merger. Combine multiple PDFs into one with drag-to-reorder support. Runs in your browser \u2014 no upload, no account.",
  "url": "https://turboconvert.io/merge-pdf",
  "applicationCategory": "UtilityApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "creator": {
    "@type": "Organization",
    "name": "TurboConvert",
    "url": "https://turboconvert.io"
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is the best free tool to merge PDF files without uploading them?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "TurboConvert Merge PDF combines multiple PDFs in your browser with drag-to-reorder support \u2014 no upload, no account, unlimited."
      }
    },
    {
      "@type": "Question",
      "name": "Can I merge PDFs for free without creating an account?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. TurboConvert requires no account and no signup. Upload your PDFs, reorder if needed, and download the merged file \u2014 all free, all in your browser."
      }
    },
    {
      "@type": "Question",
      "name": "Is there a free PDF merger with no daily limit?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "TurboConvert has no daily cap or task counter. Merge as many PDFs as you need, for free, with no account."
      }
    }
  ]
}
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6238323731269830"
     crossorigin="anonymous"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6238323731269830" crossorigin="anonymous"></script>
</head>
<body>
<nav>
  <a href="/" class="logo"><div class="logo-mark"><svg viewBox="0 0 28 28" fill="none"><rect width="28" height="28" rx="6" fill="#111110"/><rect x="5" y="8" width="18" height="3" rx="1.5" fill="white"/><rect x="11.5" y="11" width="3" height="7" rx="1.5" fill="white"/><path d="M14.5 17.5L18 21M18 21H14.5M18 21V17.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg></div><div class="logo-text">Turbo<span class="dim">Convert</span></div></a>
  <a href="/" class="back">‚Üê All tools</a>
</nav>
<div class="page">
  <div class="bc"><a href="/">Home</a> ‚Ä∫ <a href="/#tools">PDF Tools</a> ‚Ä∫ <span style="color:var(--ink)">Merge PDF</span></div>
  <span class="eyebrow">PDF Tools</span>
  <h1>Merge PDF</h1>
  <p class="desc">Combine multiple PDF files into one ‚Äî free, instant, no signup. Drag to reorder before merging.</p>
  <!-- AdSense: before tool -->
<div class="zone" id="zone">
    <input type="file" id="inp" accept=".pdf" multiple />
    <div class="zi">üîó</div>
    <h2>Drop your PDF files here</h2>
    <p>or click to browse ¬∑ Multiple files ¬∑ Up to 100 MB each</p>
    <div class="zcta">Select files</div>
  </div>

  <div class="file-list" id="fileList"></div>

  <div class="actions" id="actions">
    <button class="cbtn" id="cbtn">Merge PDFs ‚Üí</button>
    <span class="file-count" id="fileCount"></span>
  </div>

  <div class="prog" id="prog">
    <div class="prow"><span id="plabel">Merging‚Ä¶</span><span id="ppct">0%</span></div>
    <div class="ptrack"><div class="pbar" id="pbar"></div></div>
  </div>
  <div class="err" id="err"></div>
  <div class="dl" id="dl">
    <div style="font-size:1.8rem;margin-bottom:.5rem">‚úì</div>
    <h3>Your file is ready.</h3>
    <p id="dlDesc">Your merged PDF is ready to download.</p>
    <button class="dlbtn" id="dlbtn">‚¨á Download merged PDF</button>
    <span class="again" id="again">Merge other files</span>
  </div>
  <div class="blog-tip">
    <span class="blog-tip-label">üìñ Guide</span>
    <a href="/blog/how-to-merge-pdf" class="blog-tip-link">How to Merge PDF Files ‚Üí</a>
  </div>
  <div class="features">
    <div class="feat"><div class="feat-icon">üîí</div><h4>Stays on your device</h4><p>Nothing is ever uploaded to a server.</p></div>
    <div class="feat"><div class="feat-icon">‚ö°</div><h4>Under 10 seconds</h4><p>Fast processing for most files.</p></div>
    <div class="feat"><div class="feat-icon">üÜì</div><h4>Always free</h4><p>No signup, no subscription, no paywall.</p></div>
    <div class="feat"><div class="feat-icon">üì±</div><h4>Works on any device</h4><p>Desktop, tablet, or mobile browser.</p></div>
    <div class="feat"><div class="feat-icon">‚àû</div><h4>No file limits</h4><p>Convert as many files as you need.</p></div>
    <div class="feat"><div class="feat-icon">üéØ</div><h4>High quality output</h4><p>Clean, accurate results every time.</p></div>
  </div>
  <div class="content">
    <h2>Why merge PDFs?</h2>
    <p>Combining multiple PDFs into one file makes sharing easier, reduces email attachments, and keeps related documents together ‚Äî perfect for reports, contracts, or portfolios.</p>
    <p>TurboConvert merges PDFs client-side using pdf-lib. No file size cap imposed by a server, no data sent anywhere.</p>
  </div>
  <div class="faq">
    <h2>Frequently asked questions</h2>
    <details open><summary>How many PDFs can I merge at once? <div class="si"></div></summary><p>There is no hard limit ‚Äî merge as many PDFs as needed. Performance depends on total file size and your device.</p></details>
    <details><summary>Can I reorder pages before merging? <div class="si"></div></summary><p>You can drag to reorder files before merging. Per-page reordering is on the roadmap.</p></details>
    <details><summary>Will bookmarks and links be preserved? <div class="si"></div></summary><p>Basic PDF structure is preserved. Complex interactive elements may not transfer.</p></details>
    <details><summary>Is there a file size limit? <div class="si"></div></summary><p>Individual files up to 200 MB are supported.</p></details>
  </div>
  <div class="related">
    <h3>Related tools</h3>
    <div class="related-links">
      <a href="/split-pdf" class="rl">Split PDF</a>
      <a href="/compress-pdf" class="rl">Compress PDF</a>
      <a href="/rotate-pdf" class="rl">Rotate PDF</a>
      <a href="/pdf-to-word" class="rl">PDF to Word</a>
      <a href="/pdf-to-jpg" class="rl">PDF to JPG</a>
    </div>
  </div>
<div style="display:flex;justify-content:center;margin:24px 0;">
  <ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px;" data-ad-client="ca-pub-6238323731269830" data-ad-slot="auto" data-ad-format="rectangle"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>
<footer>
  <a href="/" class="footer-logo" style="display:inline-flex;align-items:center;gap:.4rem;text-decoration:none">
    <div style="width:18px;height:18px;"><svg viewBox="0 0 28 28" fill="none"><rect width="28" height="28" rx="6" fill="#111110"/><rect x="5" y="8" width="18" height="3" rx="1.5" fill="white"/><rect x="11.5" y="11" width="3" height="7" rx="1.5" fill="white"/><path d="M14.5 17.5L18 21M18 21H14.5M18 21V17.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
    <div class="logo-text">Turbo<span class="dim">Convert</span></div>
  </a>
  <div class="fl"><a href="/privacy">Privacy</a><a href="/terms">Terms</a><a href="/contact">Contact</a></div>
  <p>¬© 2025 TurboConvert.io</p>
</footer>

<!-- pdf-lib : traitement 100% navigateur, pas de serveur -->
<script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
<script>
const { PDFDocument } = PDFLib;

const zone=document.getElementById('zone'),inp=document.getElementById('inp'),
  fileListEl=document.getElementById('fileList'),actions=document.getElementById('actions'),
  cbtn=document.getElementById('cbtn'),fileCountEl=document.getElementById('fileCount'),
  prog=document.getElementById('prog'),pbar=document.getElementById('pbar'),
  ppct=document.getElementById('ppct'),plabel=document.getElementById('plabel'),
  dl=document.getElementById('dl'),dlbtn=document.getElementById('dlbtn'),
  dlDesc=document.getElementById('dlDesc'),err=document.getElementById('err'),
  again=document.getElementById('again');

let files = []; // [{file, name, size}]
let resultBlob = null;

const fmt = b => b < 1048576 ? (b/1024).toFixed(1)+' KB' : (b/1048576).toFixed(1)+' MB';
function setP(p,l){ pbar.style.width=p+'%'; ppct.textContent=p+'%'; plabel.textContent=l; }
function showErr(m){ err.textContent=m; err.classList.add('show'); prog.classList.remove('show'); cbtn.disabled=false; }

function renderList() {
  fileListEl.innerHTML = '';
  files.forEach((f, i) => {
    const div = document.createElement('div');
    div.className = 'file-item';
    div.draggable = true;
    div.dataset.idx = i;
    div.innerHTML = `<span class="fi-handle">‚†ø</span><span class="fi-icon">üìÑ</span><div class="fi-meta"><div class="fi-name">${f.name}</div><div class="fi-size">${fmt(f.size)}</div></div><button class="fi-rm" data-i="${i}">‚úï</button>`;
    fileListEl.appendChild(div);
  });

  // Drag to reorder
  let dragIdx = null;
  fileListEl.querySelectorAll('.file-item').forEach(el => {
    el.addEventListener('dragstart', () => { dragIdx = +el.dataset.idx; el.classList.add('dragging'); });
    el.addEventListener('dragend', () => el.classList.remove('dragging'));
    el.addEventListener('dragover', e => { e.preventDefault(); el.classList.add('drag-over'); });
    el.addEventListener('dragleave', () => el.classList.remove('drag-over'));
    el.addEventListener('drop', e => {
      e.preventDefault(); el.classList.remove('drag-over');
      const dropIdx = +el.dataset.idx;
      if (dragIdx !== null && dragIdx !== dropIdx) {
        const moved = files.splice(dragIdx, 1)[0];
        files.splice(dropIdx, 0, moved);
        renderList(); updateActions();
      }
    });
  });

  // Remove buttons
  fileListEl.querySelectorAll('.fi-rm').forEach(btn => {
    btn.addEventListener('click', () => {
      files.splice(+btn.dataset.i, 1);
      renderList(); updateActions();
    });
  });

  // Add more button
  const addBtn = document.createElement('button');
  addBtn.className = 'add-more';
  addBtn.textContent = '+ Add more PDFs';
  addBtn.addEventListener('click', () => {
    const tmp = document.createElement('input');
    tmp.type='file'; tmp.accept='.pdf'; tmp.multiple=true;
    tmp.addEventListener('change', e => addFiles(Array.from(e.target.files)));
    tmp.click();
  });
  fileListEl.appendChild(addBtn);
}

function updateActions() {
  if (files.length >= 2) {
    fileListEl.classList.add('show');
    actions.classList.add('show');
    fileCountEl.textContent = `${files.length} file${files.length>1?'s':''} selected`;
  } else if (files.length === 1) {
    fileListEl.classList.add('show');
    actions.classList.remove('show');
    fileCountEl.textContent = 'Add at least one more PDF';
  } else {
    fileListEl.classList.remove('show');
    actions.classList.remove('show');
  }
}

function addFiles(newFiles) {
  newFiles.forEach(f => {
    if (f.type === 'application/pdf' || f.name.endsWith('.pdf')) {
      files.push({ file: f, name: f.name, size: f.size });
    }
  });
  renderList(); updateActions();
  err.classList.remove('show');
  dl.classList.remove('show');
}

inp.addEventListener('change', e => addFiles(Array.from(e.target.files)));
zone.addEventListener('dragover', e => { e.preventDefault(); zone.classList.add('over'); });
zone.addEventListener('dragleave', () => zone.classList.remove('over'));
zone.addEventListener('drop', e => {
  e.preventDefault(); zone.classList.remove('over');
  addFiles(Array.from(e.dataTransfer.files));
});

cbtn.addEventListener('click', async () => {
  if (files.length < 2) return;
  cbtn.disabled = true;
  prog.classList.add('show');
  err.classList.remove('show');
  dl.classList.remove('show');

  try {
    setP(5, 'Preparing‚Ä¶');
    const merged = await PDFDocument.create();

    for (let i = 0; i < files.length; i++) {
      setP(Math.round(10 + (i / files.length) * 80), `Processing file ${i+1} of ${files.length}‚Ä¶`);
      const bytes = await files[i].file.arrayBuffer();
      const pdf = await PDFDocument.load(bytes);
      const pages = await merged.copyPages(pdf, pdf.getPageIndices());
      pages.forEach(p => merged.addPage(p));
    }

    setP(92, 'Saving‚Ä¶');
    const out = await merged.save();
    resultBlob = new Blob([out], { type: 'application/pdf' });

    const totalPages = (await PDFDocument.load(await resultBlob.arrayBuffer())).getPageCount();
    dlDesc.textContent = `${files.length} PDFs merged ¬∑ ${totalPages} pages ¬∑ ${fmt(resultBlob.size)}`;

    setP(100, 'Done!');
    setTimeout(() => { prog.classList.remove('show'); dl.classList.add('show'); }, 400);

  } catch(e) {
    showErr('‚ö†Ô∏è ' + (e.message || 'Merge failed. Make sure all files are valid PDFs.'));
  }
});

dlbtn.addEventListener('click', () => {
  if (!resultBlob) return;
  const url = URL.createObjectURL(resultBlob);
  const a = document.createElement('a'); a.href=url; a.download='merged.pdf'; a.click();
  setTimeout(() => URL.revokeObjectURL(url), 1000);
});

again.addEventListener('click', () => {
  files = []; resultBlob = null;
  renderList(); updateActions();
  dl.classList.remove('show'); err.classList.remove('show');
  inp.value = '';
});

// ‚îÄ‚îÄ Pr√©-chargement depuis la homepage ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(function() {
  function idbRead(cb) {
    try {
      var req = indexedDB.open('turboconvert', 1);
      req.onupgradeneeded = function(e) { e.target.result.createObjectStore('pending_file'); };
      req.onsuccess = function(e) {
        var db = e.target.result;
        var tx = db.transaction('pending_file', 'readwrite');
        var store = tx.objectStore('pending_file');
        var getReq = store.get('file');
        getReq.onsuccess = function() {
          var f = getReq.result;
          store.delete('file');
          db.close();
          if (f && typeof addFiles === 'function') {
            addFiles([f]);
            var z = document.getElementById('zone');
            if (z) {
              z.style.transition = 'border-color 0.4s';
              z.style.borderColor = 'var(--ink)';
              setTimeout(function() { z.style.borderColor = ''; }, 1200);
            }
          }
        };
      };
    } catch(e) {}
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() { idbRead(); });
  } else {
    idbRead();
  }
})();
</script>
<script src="/schema-inject.js"></script>
</body>
</html>
